{"componentChunkName":"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js","path":"/posts/2019/python-garbage-collection/","result":{"data":{"mdx":{"id":"7a7e1c13-4cf1-5081-8da0-977cb766cf4f","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Python 垃圾回收原理\",\n  \"author\": \"Von\",\n  \"date\": \"2019-11-07T00:00:00.000Z\",\n  \"tags\": [\"Python\"],\n  \"featuredImage\": \"ang.jpeg\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Python GC\"), mdx(\"p\", null, \"##Python \\u5783\\u573E\\u56DE\\u6536\\u539F\\u7406\"), mdx(\"h3\", null, \"\\u5BF9\\u8C61\"), mdx(\"p\", null, \"Python\\u6240\\u8C13\\u7684\\u201C\\u4E00\\u5207\\u7686\\u5BF9\\u8C61\\u201D\\uFF0C\\u5B9E\\u9645\\u4E0A\\u8BF4\\u7684\\u662F\\uFF1A\\npython\\u6709\\u4E00\\u4E2A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Common Object Structures\"), \"\\u901A\\u7528\\u5BF9\\u8C61\\u7ED3\\u6784\\u7684\\u4E1C\\u897F\\uFF0C\\u6240\\u6709\\u5728\\u5185\\u5B58\\u4E2D\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"PyObject\"), \"\\u548C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"PyVarObject\"), \"\\u7C7B\\u578B\\u7684\\uFF0C\\u90FD\\u4F1A\\u5171\\u4EAB\\u5C11\\u91CF\\u5B57\\u6BB5\\uFF0C\\u5982\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5F15\\u7528\\u8BA1\\u6570\"), \"\\u548C\\u6307\\u5411\\u76F8\\u5E94\\u7C7B\\u578B\\u5BF9\\u8C61\\u7684\\u6307\\u9488\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PyObject \\u6B64\\u7C7B\\u578B\\u6269\\u5C55\\u51FA\\u4E86\\u6240\\u6709\\u7684Python\\u5BF9\\u8C61\\u3002\\u5B83\\u5305\\u542B\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\\u5F15\\u7528\\u8BA1\\u6570\"), \"\\u548C\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\\u6307\\u5411\\u76F8\\u5E94\\u7C7B\\u578B\\u5BF9\\u8C61\\u7684\\u6307\\u9488\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PyVarObject \\u662F\\u5BF9PyObject\\u7C7B\\u578B\\u7684\\u6269\\u5C55\\u3002\\u6DFB\\u52A0\\u4E86\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"ob_size\"), \"\\u5C5E\\u6027\\uFF0C\\u5E76\\u4E14\\u4EC5\\u7528\\u4E8E\\u5177\\u6709\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"length\"), \"\\u6982\\u5FF5\\u7684\\u5BF9\\u8C61\")), mdx(\"p\", null, \"\\u5F15\\u7528\\u8BA1\\u6570\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ob_refcnt\"), \"\\u539F\\u7406\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5F53\\u4E3A\\u5BF9\\u8C61\\u5206\\u914D\\u4E86\\u65B0\\u540D\\u79F0\\uFF0C\\u5C06\\u5BF9\\u8C61\\u4F5C\\u4E3A\\u53C2\\u6570\\u4F20\\u9012\\u7ED9\\u51FD\\u6570\\uFF0C\\u6216\\u5C06\\u5176\\u653E\\u7F6E\\u5728\\u8BF8\\u5982\\u5143\\u7EC4\\u6216\\u5B57\\u5178\\u7684\\u6570\\u636E\\u7ED3\\u6784\\u4E2D\\uFF0C\\u5F15\\u7528\\u8BA1\\u6570\\u4F1A\\u589E\\u52A0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5F53\\u91CD\\u65B0\\u5206\\u914D\\u5BF9\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\uFF0C\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u8D85\\u51FA\\u8303\\u56F4\\u6216\\u5220\\u9664\\u5BF9\\u8C61\\u65F6\\uFF0C\\u5F15\\u7528\\u8BA1\\u6570\\u4E5F\\u4F1A\\u51CF\\u5C11\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"# \\u53EF\\u4EE5\\u901A\\u8FC7 sys \\u6A21\\u5757\\u4E2D\\u4E0B\\u9762\\u7684\\u65B9\\u6CD5\\u83B7\\u53D6\\u53C2\\u6570\\u7684\\u5F15\\u7528\\u8BA1\\u6570\\nsys.getrefcount(a)\\n\")), mdx(\"h3\", null, \"\\u5185\\u5B58\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u662F\\u4E00\\u4E2A\\u5806\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5305\\u542B\\u7A0B\\u5E8F\\u4E2D\\u4F7F\\u7528\\u7684\\u5BF9\\u8C61\\u548C\\u5176\\u4ED6\\u6570\\u636E\\u7ED3\\u6784\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5185\\u5B58\\u5806\\u7A7A\\u95F4\\u7684\\u5206\\u914D\\u548C\\u53D6\\u6D88\\u5206\\u914D\\u662F\\u901A\\u8FC7Python\\u5185\\u5B58\\u7BA1\\u7406\\u5668\\u4F7F\\u7528API\\u200B\\u200B\\u51FD\\u6570\\u7BA1\\u7406\\u7684\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u548C\\u5176\\u4ED6\\u8BED\\u8A00\\u4E0D\\u540C\\uFF0CPython\\u4E0D\\u4E00\\u5B9A\\u4F1A\\u628A\\u5185\\u5B58\\u91CA\\u653E\\u56DE\\u64CD\\u4F5C\\u7CFB\\u7EDF\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Python\\u89E3\\u91CA\\u5668\\u4E3A\\u5C0F\\u4E8E512\\u5B57\\u8282\\u7684\\u5BF9\\u8C61\\u63D0\\u4F9B\\u4E86\\u4E13\\u7528\\u7684\\u5BF9\\u8C61\\u5206\\u914D\\u5668\\uFF0C\\u4ECE\\u800C\\u4FDD\\u7559\\u4E86\\u4E00\\u4E9B\\u5DF2\\u5206\\u914D\\u7684\\u5185\\u5B58\\u5757\\uFF0C\\u4EE5\\u5907\\u4F7F\\u7528\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u5BF9\\u5185\\u5B58\\u9700\\u505A\\u66F4\\u6DF1\\u7684\\u7814\\u7A76\")), mdx(\"h3\", null, \"\\u5783\\u573E\\u56DE\\u6536\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"python\\u91CA\\u653E\\u4E0D\\u518D\\u4F7F\\u7528\\u7684\\u5185\\u5B58\\uFF0C\\u8FD9\\u9879\\u5DE5\\u4F5C\\u5C31\\u79F0\\u4E3A\\u5783\\u573E\\u56DE\\u6536\\u3002\")), mdx(\"p\", null, \"\\u4F55\\u65F6\\u56DE\\u6536\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5F53\\u5F15\\u7528\\u8BA1\\u6570\\u4E3A0\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-none\"\n  }), \"\\u5F15\\u7528\\u8BA1\\u6570\\u7684\\u4F18\\u70B9\\u662F\\u539F\\u7406\\u7B80\\u5355\\u3001\\u5C06\\u6D88\\u8017\\u5747\\u644A\\u5230\\u8FD0\\u884C\\u65F6\\uFF1B\\u7F3A\\u70B9\\u662F\\u65E0\\u6CD5\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4E09\\u4EE3\\u5783\\u573E\\u6536\\u96C6\\u5668(\\u76EE\\u524D\\u53EA\\u6709\\u4E09\\u4EE3)\\u4E2D\\u7684\\u6BCF\\u4E00\\u4EE3\\u90FD\\u6709\\u4E00\\u4E2A\\u9608\\u503C\\u548C\\u4E00\\u4E2A\\u8BA1\\u6570\\u5668\\u3002\\u8BA1\\u6570\\u5668\\u503C\\u4E3A\\u4E0A\\u6B21GC\\u540E\\u5BF9\\u8C61\\u5206\\u914D\\u6570\\u91CF-\\u91CA\\u653E\\u6570\\u91CF\\u3002\\u5F53\\u8BA1\\u6570\\u5668\\u8D85\\u8FC7\\u8BE5\\u9608\\u503C\\uFF0C\\u5219\\u89E6\\u53D1\\u8FD9\\u4E00\\u4EE3GC\\u3002\\u5185\\u5B58\\u91CA\\u653E\\u8FC7\\u540E\\u4ECD\\u5B58\\u5728\\u7684\\u5BF9\\u8C61\\uFF0C\\u5C06\\u4F1A\\u79FB\\u690D\\u5230\\u66F4\\u8001\\u7684\\u4E00\\u4EE3\\u3002\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-none\"\n  }), \"\\u5206\\u4EE3\\u56DE\\u6536\\u53EF\\u4EE5\\u5904\\u7406\\u5F15\\u7528\\u8BA1\\u6570\\u65E0\\u6CD5\\u5904\\u7406\\u7684\\u60C5\\u51B5\\uFF1A\\u5FAA\\u73AF\\u5F15\\u7528\\uFF0C\\u4F46\\u662F\\u65E0\\u6CD5\\u5904\\u7406\\u5FAA\\u73AF\\u5F15\\u7528\\u4E2D\\u7684\\u5BF9\\u8C61\\u5B9A\\u4E49\\u4E86__del__\\u7684\\u60C5\\u51B5\\n\\u5206\\u4EE3\\u56DE\\u6536\\u5E76\\u4E0D\\u662F\\u5B9E\\u65F6\\u5DE5\\u4F5C\\uFF0C\\u800C\\u662F\\u5B9A\\u671F\\u8FD0\\u884C\\uFF0C\\u6BCF\\u6B21\\u56DE\\u6536\\u4F1A\\u9020\\u6210\\u4E00\\u5B9A\\u7684\\u5361\\u987F\\n\\u8001\\u4E00\\u4EE3\\u7684\\u56DE\\u6536\\u9891\\u7387\\u6BD4\\u65B0\\u4E00\\u4EE3\\u7684\\u4F4E\\uFF0C\\u800C\\u4E14\\u65B0\\u4E00\\u4EE3\\u7684\\u56DE\\u6536\\u66F4\\u591A\\u3002\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5FAA\\u73AF\\u5F15\\u7528\\u793A\\u4F8B\\uFF1A\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \">>> from ctypes import *\\n>>> class ObjRnt(Structure):\\n...     _fields_ = [('refcnt',c_int)]\\n...\\n>>> l = []\\n>>> l.append(l)\\n>>> l_address = id(l)\\n>>> del(l)\\n>>> ObjRnt.from_address(l_address).refcnt\\n1\\n\")), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0C\\u5982\\u679C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"del\"), \"\\u5BF9\\u8C61\\u540E\\uFF0C\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lst\"), \"\\u4E0D\\u53EF\\u518D\\u88AB Python \\u5185\\u90E8\\u8BBF\\u95EE\\u4E86\\uFF0C\\u4F46\\u662F\\u4ED6\\u7684\\u5730\\u5740\\u4E0A\\u6765\\u770B\\uFF0C\\u4ED6\\u7684\\u5FAA\\u73AF\\u5F15\\u7528\\u8BA1\\u6570\\u5E76\\u4E0D\\u662F0\\u3002\\u66F4\\u8BE6\\u7EC6\\u7684Debug\\u65B9\\u6CD5\\u53EF\\u4EE5\\u5F80\\u4E0B\\u770B\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5982\\u679C\\u6CA1\\u6709\\u7981\\u7528\\u5783\\u573E\\u56DE\\u6536\\uFF0C\\u90A3\\u4E48Python\\u4E2D\\u7684\\u5185\\u5B58\\u6CC4\\u9732\\u6709\\u4E24\\u79CD\\u60C5\\u51B5\\uFF1A\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-none\"\n  }), \"\\u8981\\u4E48\\u662F\\u5BF9\\u8C61\\u88AB\\u751F\\u547D\\u5468\\u671F\\u66F4\\u957F\\u7684\\u5BF9\\u8C61\\u6240\\u5F15\\u7528\\uFF0C\\u6BD4\\u5982global\\u4F5C\\u7528\\u57DF\\u5BF9\\u8C61\\uFF1B\\n\\u8981\\u4E48\\u662F\\u5FAA\\u73AF\\u5F15\\u7528\\u4E2D\\u5B58\\u5728__del__\\uFF1B\\n\")), mdx(\"p\", null, \"\\u5783\\u573E\\u56DE\\u6536\\u6BD4\\u8F83\\u8017\\u6027\\u80FD\\uFF0C\\u89E3\\u9664\\u5FAA\\u73AF\\u5F15\\u7528\\uFF0C\\u5C31\\u53EF\\u4EE5\\u7981\\u7528\\u5783\\u573E\\u56DE\\u6536\\u3002\\u89E3\\u9664\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u529E\\u6CD5\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u624B\\u52A8\\u89E3\\u9664\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4F7F\\u7528weakref(\\u5F31\\u5F15\\u7528)\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.python.org/3.6/library/weakref.html\"\n  }), \"wakref py3.6\")), mdx(\"h2\", null, \"\\u4F20\\u7EDF\\u7684 GC\"), mdx(\"p\", null, \"\\u6BD4\\u5982\\u6807\\u8BB0-\\u6E05\\u9664\\u6216\\u505C\\u6B62-\\u590D\\u5236\\u7684\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5DE5\\u4F5C\\u673A\\u5236\"), \"\\u5982\\u4E0B\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"1.\\u627E\\u51FA\\u7CFB\\u7EDF\\u7684\\u6839\\u5BF9\\u8C61\\u3002\\u5305\\u542B\\u5168\\u5C40\\u73AF\\u5883\\uFF08\\u4F8B\\u5982Python\\u4E2D\\u7684\", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"main\"), \"\\u6A21\\u5757\\uFF09\\u548C\\u5806\\u6808\\u4E0A\\u7684\\u5BF9\\u8C61\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"2.\\u4ECE\\u8FD9\\u4E9B\\u5BF9\\u8C61\\u4E2D\\u641C\\u7D22\\u5E76\\u627E\\u5230\\u6240\\u6709\\u53EF\\u5230\\u8FBE\\u7684\\u5BF9\\u8C61\\u3002\\u627E\\u5230\\u7684\\u5BF9\\u8C61\\u90FD\\u662F\\u201C\\u6D3B\\u7740\\u7684\\u201D\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"3.\\u91CA\\u653E\\u6240\\u6709\\u5176\\u4ED6\\u5BF9\\u8C61\")), mdx(\"p\", null, \"\\u5176\\u5B58\\u5728\\u7684\\u95EE\\u9898\\u5F88\\u660E\\u663E\\uFF1A\\u4E0E\\u5176\\u8BF4\\u8BBF\\u95EE\\u6240\\u6709\\u53EF\\u4EE5\\u8BBF\\u95EE\\uFF0C\\u5E76\\u4E14\\u201C\\u6D3B\\u7740\\u7684\\u201D\\u5BF9\\u8C61\\uFF0C\\u4E0D\\u5982\\u5C1D\\u8BD5\\u67E5\\u627E\\u4E0D\\u53EF\\u8BBF\\u95EE\\u7684\\u5BF9\\u8C61\\u3002\"), mdx(\"p\", null, \"\\u6240\\u4EE5\\uFF0CGC \\u7684\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u7B97\\u6CD5\\u539F\\u7406\"), \"\\u662F\\u8FD9\\u6837\\u7684\\uFF1A\\n\\u56E0\\u4E3A\\u53EA\\u6709\\u5BB9\\u5668\\u5BF9\\u8C61\\uFF08\\u5982list\\uFF0Cdict\\uFF0Cclass\\u7B49\\uFF1Bint\\uFF0Cstr\\u4E0D\\u662F\\u5BB9\\u5668\\u5BF9\\u8C61\\uFF09\\u53EF\\u80FD\\u5B58\\u5728\\u5FAA\\u73AF\\u5F15\\u7528\\u7684\\u60C5\\u51B5\\u3002\\u6240\\u4EE5\\uFF0C\\u6211\\u4EEC\\u53EA\\u8DDF\\u8E2A\\u6240\\u6709\\u5BB9\\u5668\\u5BF9\\u8C61\\u3002\\u5177\\u4F53\\u6765\\u8BF4\\u4F7F\\u7528\\u4E86\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doubly linked lists\"), \"\\u7684\\u6570\\u636E\\u7ED3\\u6784\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"1.\\u5BF9\\u5BB9\\u5668\\u5BF9\\u8C61\\u6DFB\\u52A0\\u4E86\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc_refs\"), \"\\u5B57\\u6BB5\\u548C\\u4E24\\u4E2A\\u94FE\\u63A5\\u6307\\u9488\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"2.\\u5C06\\u6BCF\\u4E00\\u4E2A\\u5BB9\\u5668\\u5BF9\\u8C61\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc_refs\"), \"\\u8BBE\\u7F6E\\u4E3A\\u7B49\\u4E8E\\u8BE5\\u5BF9\\u8C61\\u7684\\u5F15\\u7528\\u8BA1\\u6570\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"3.\\u627E\\u5230\\u6BCF\\u4E00\\u4E2A\\u5BB9\\u5668\\u5BF9\\u8C61\\u5B83\\u6240\\u5F15\\u7528\\u7684\\u5BB9\\u5668\\u5BF9\\u8C61\\uFF0C\\u5E76\\u51CF\\u5C11\\u6240\\u5F15\\u7528\\u5BB9\\u5668\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc_refs\"), \"\\u5B57\\u6BB5\\u3002\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"4.\\u6240\\u6709\\u5177\\u6709\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc_refs\"), \"\\u5B57\\u6BB5\\u5927\\u4E8E1\\u7684\\u5BB9\\u5668\\u5BF9\\u8C61\\uFF0C\\u8FD9\\u4E9B\\u5BF9\\u8C61\\u88AB\\u5916\\u90E8\\u5BB9\\u5668\\u5BF9\\u8C61\\u96C6\\u6240\\u5F15\\u7528\\uFF0C\\u5E76\\u4E14\\u65E0\\u6CD5\\u88AB\\u91CA\\u653E\\uFF0C\\u4E8E\\u662F\\u6211\\u4EEC\\u5C06\\u8FD9\\u4E9B\\u5BF9\\u8C61\\u79FB\\u52A8\\u5230\\u53E6\\u4E00\\u4E2A\\u96C6\\u5408\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"5.\\u6211\\u4EEC\\u8981\\u91CA\\u653E\\u7684\\u5BF9\\u8C61\\u662F\\uFF0C\\u4FDD\\u7559\\u5728\\u539F\\u59CB\\u96C6\\u4E2D\\u7684\\u5BF9\\u8C61\\uFF0C\\u800C\\u4E14\\u4EC5\\u7531\\u8BE5\\u96C6\\u4E2D\\u7684\\u5BF9\\u8C61\\u5F15\\u7528\\uFF08\\u5373\\uFF0C\\u5B83\\u4EEC\\u65E0\\u6CD5\\u4ECEPython\\u8BBF\\u95EE\\u5E76\\u4E14\\u662F\\u5783\\u573E\\uFF09\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u7B97\\u6CD5\\u7684\\u5F00\\u9500\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u6700\\u5927\\u7684\\u6210\\u672C\\u4E4B\\u4E00\\u662F\\u6BCF\\u4E2A\\u5BB9\\u5668\\u5BF9\\u8C61\\u9700\\u8981\\u4E09\\u4E2A\\u989D\\u5916\\u7684\\u5185\\u5B58\\uFF08\\u4E0A\\u9762\\u539F\\u7406\\u4E2D1.\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5176\\u6B21\\u5BB9\\u5668\\u5BF9\\u8C61\\u96C6\\u7684\\u7EF4\\u62A4\\u4E5F\\u662F\\u4E00\\u4E2A\\u5F00\\u9500\")), mdx(\"h2\", null, \"Debug memory leaks\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.python.org/2/library/gc.html\"\n  }), \"gc\"), \"\\u6A21\\u5757\\u4E3B\\u8981\\u63D0\\u4F9B\\u4E86\\u7981\\u7528\\u6536\\u96C6\\u5668\\uFF0C\\u8C03\\u6574\\u6536\\u96C6\\u9891\\u7387\\u4EE5\\u53CA\\u8BBE\\u7F6E\\u8C03\\u8BD5\\u9009\\u9879\\u7684\\u529F\\u80FD\\uFF0C\\u5BF9\\u6536\\u96C6\\u5668\\u627E\\u5230\\u4F46\\u65E0\\u6CD5\\u91CA\\u653E\\u7684\\u65E0\\u6CD5\\u8BBF\\u95EE\\u5BF9\\u8C61\\u7684\\u8BBF\\u95EE\\u3002\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://mg.pov.lt/objgraph\"\n  }), \"objgraph\"), \"\\u6A21\\u5757\\u53EF\\u4EE5\\u7528\\u4E8E\\u5B9A\\u4F4D\\u5185\\u5B58\\u6CC4\\u6F0F\"), mdx(\"p\", null, \"gc\\uFF08garbage collector\\uFF09\\u662FPython \\u6807\\u51C6\\u5E93\\u3002\\u529F\\u80FD\\uFF1A\"), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u5F00\\u5173gc\\u3001\\u8C03\\u6574\\u5783\\u573E\\u56DE\\u6536\\u7684\\u9891\\u7387\\u3001\\u8F93\\u51FA\\u8C03\\u8BD5\\u4FE1\\u606F\\u3002gc\\u6A21\\u5757\\u662F\\u5F88\\u591A\\u5176\\u4ED6\\u6A21\\u5757\\uFF08\\u6BD4\\u5982objgraph\\uFF09\\u5C01\\u88C5\\u7684\\u57FA\\u7840\\u3002\\u6838\\u5FC3API\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.enable()\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u5F00\\u542Fgc\\uFF08\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\u662F\\u5F00\\u542F\\u7684\\uFF09\"), \";\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.disable()\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u5173\\u95EDgc\"), \";\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.isenabled()\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u5224\\u65ADgc\\u662F\\u5426\\u5F00\\u542F\"), \";\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.collect()\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u6267\\u884C\\u4E00\\u6B21\\u5783\\u573E\\u56DE\\u6536\\uFF0C\\u4E0D\\u7BA1gc\\u662F\\u5426\\u5904\\u4E8E\\u5F00\\u542F\\u72B6\\u6001\\u90FD\\u80FD\\u4F7F\\u7528\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.set_threshold(th0[, th1[, th2]])\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u8BBE\\u7F6E\\u5783\\u573E\\u56DE\\u6536\\u9608\\u503C\"), \";\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.get_threshold()\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u83B7\\u5F97\\u5F53\\u524D\\u7684\\u5783\\u573E\\u56DE\\u6536\\u9608\\u503C\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.get_objects()\"), \"\\u8FD4\\u56DE\\u6240\\u6709\\u88AB\\u5783\\u573E\\u56DE\\u6536\\u5668\\uFF08collector\\uFF09\\u7BA1\\u7406\\u7684\\u5BF9\\u8C61\\u3002\\u53EA\\u8981python\\u89E3\\u91CA\\u5668\\u8FD0\\u884C\\u8D77\\u6765\\uFF0C\\u5C31\\u6709\\u5927\\u91CF\\u7684\\u5BF9\\u8C61\\u88ABcollector\\u7BA1\\u7406\\uFF0C\\u56E0\\u6B64\\uFF0C\\u8BE5\\u51FD\\u6570\\u7684\\u8C03\\u7528\\u6BD4\\u8F83\\u8017\\u65F6\\uFF01\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.set_debug(flags)\"), \" \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"\\u8BBE\\u7F6E\\u8C03\\u8BD5\\u9009\\u9879\"), \" \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.python.org/2/library/gc.html#gc.DEBUG_STATS\"\n  }), \"flags\\u53C2\\u6570\\u6839\\u636Epython\\u7248\\u672C\\u6709\\u5F88\\u5927\\u5DEE\\u5F02\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gc.garbage\"), \" \\u8FD4\\u56DE unreachable \\u7684 could not be freed (uncollectable \\u5BF9\\u8C61)\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Python GC ##Python 垃圾回收原理 对象 Python所谓的“一切皆对象”，实际上说的是：\npython有一个 Common Object Structures 通用对象结构的东西，所有在内存中是 PyObject 和 PyVarObject…","timeToRead":1,"wordCount":{"words":174},"frontmatter":{"title":"Python 垃圾回收原理","tags":["Python"],"date":"2019-11-07T00:00:00.000Z","dateModified":null,"author":"Von","status":null,"isPrivate":null,"featuredImage":{"childImageSharp":{"original":{"width":6000,"height":3375,"src":"/static/ang-3e1f36e995d22ad9552a0ddb8d49890a.jpeg"},"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHiTJSC/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBAAAgMAAAAAAAAAAAAAAAAAACEBEBH/2gAIAQEAAT8hQjbk/9oADAMBAAIAAwAAABBL3//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxCq/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAEhETFRgf/aAAgBAQABPxBRwPA6hr7G3RMfh//Z","aspectRatio":1.7751479289940828,"src":"/static/3e1f36e995d22ad9552a0ddb8d49890a/a6c62/ang.jpg","srcSet":"/static/3e1f36e995d22ad9552a0ddb8d49890a/b3cab/ang.jpg 300w,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/39f27/ang.jpg 600w,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/a6c62/ang.jpg 1200w,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/8d3de/ang.jpg 1800w,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/f0a07/ang.jpg 2400w,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/30a63/ang.jpg 6000w","sizes":"(max-width: 1200px) 100vw, 1200px"},"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHiTJSC/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBAAAgMAAAAAAAAAAAAAAAAAACEBEBH/2gAIAQEAAT8hQjbk/9oADAMBAAIAAwAAABBL3//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxCq/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAEhETFRgf/aAAgBAQABPxBRwPA6hr7G3RMfh//Z","width":400,"height":225,"src":"/static/3e1f36e995d22ad9552a0ddb8d49890a/64b17/ang.jpg","srcSet":"/static/3e1f36e995d22ad9552a0ddb8d49890a/64b17/ang.jpg 1x,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/39f27/ang.jpg 1.5x,\n/static/3e1f36e995d22ad9552a0ddb8d49890a/a1eb1/ang.jpg 2x"},"id":"9a402c5b-d437-517c-8033-b3160e83c7b1"}},"embeddedImages":null},"fields":{"slug":"/posts/2019/python-garbage-collection/","owner":"source","parent":"posts"}}},"pageContext":{"id":"7a7e1c13-4cf1-5081-8da0-977cb766cf4f","prev":{"frontmatter":{"title":"Python Challenges","status":null},"fields":{"slug":"/posts/2019/pythonchallenge/"}},"next":{"frontmatter":{"title":"代码模版","status":null},"fields":{"slug":"/posts/2019/code-template/"}},"parent":"posts"}}}